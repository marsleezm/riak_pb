// Java package specifiers
option java_package = "com.basho.riak.protobuf";
option java_outer_classname = "AntidotePB";

// Update request
message FpbUpdateReq {
    required uint32 key = 1;
    required uint32 operation = 2;
    required bytes parameter = 3;
}

// Update request
message FpbReadReq {
    required uint32 key = 1;
}

//Operation possible inside atomic update transaction
message FpbGeneralTxnOp {
	optional FpbUpdateReq op1 = 1;
	optional FpbReadReq op2 = 2;	
}

message FpbGeneralTxnReq {
	optional bytes clock = 1;
    repeated FpbGeneralTxnOp op = 1;
}

//Operation possible inside atomic update transaction
message FpbGeneralTxnResp {
	required bool success = 1;
	optional bytes clock = 2;
	repeated FpbGeneralTxnRespValue results = 3;
}

//Response for a transaction
message FpbGeneralTxnRespValue {
	required uint32 key = 1;
    required bytes value = 2;
}

